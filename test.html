index.html files
------------------

<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Hockey Scoreboard — Admin</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        /* stadium LED vibe */
        .led {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New", monospace;
            letter-spacing: .06em;
            text-shadow: 0 0 6px rgba(59, 130, 246, 0.8), 0 0 18px rgba(59, 130, 246, 0.35);
        }

        .glow-green {
            text-shadow: 0 0 8px rgba(110, 231, 183, 0.9);
        }

        .glow-red {
            text-shadow: 0 0 8px rgba(239, 68, 68, 0.9);
        }
    </style>
</head>

<body class="bg-[#0F1117] text-gray-200 min-h-screen">
    <div class="max-w-6xl mx-auto p-6">
        <header class="mb-6">
            <h1 class="text-2xl font-semibold text-white">Admin Control — Hockey Scoreboard</h1>
            <p class="text-sm text-gray-400">Professional stadium LED style. Controls sync to the Display window via
                localStorage.</p>
        </header>

        <!-- MAIN SCOREBOARD CARD -->
        <section class="bg-[#111218] rounded-xl p-6 shadow-lg mb-6">
            <h2 class="text-lg font-medium mb-4">Main Scoreboard</h2>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- Team A -->
                <div class="p-4 bg-[#0b0c10] rounded-lg">
                    <label class="block text-xs text-gray-400 mb-2">Left Team</label>
                    <input id="teamAName" class="w-full p-2 rounded bg-[#0f1724] text-white text-sm"
                        placeholder="Team A" />
                    <div class="flex items-center gap-2 mt-3">
                        <button id="teamAInc" class="px-3 py-2 rounded bg-[#3B82F6]">+1</button>
                        <button id="teamADec" class="px-3 py-2 rounded bg-[#ef4444]">-1</button>
                        <div id="teamAScore" class="ml-auto text-3xl led font-bold">00</div>
                    </div>
                    <div class="mt-3 flex items-center gap-2">
                        <button id="toggleReferralA" class="px-3 py-1 rounded bg-green-600 text-white text-sm">Referral
                            ✓</button>
                        <!-- <label class="text-sm text-gray-400">Color: </label>
                        <input id="colorA" type="color" value="#3B82F6" class="h-8 w-12 p-0" /> -->
                    </div>
                </div>

                <!-- Timer -->
                <div class="p-4 bg-[#0b0c10] rounded-lg flex flex-col items-center justify-center text-center">
                    <label class="block text-xs text-gray-400 mb-2">Main Timer</label>
                    <div id="mainClock" class="led text-6xl font-extrabold">15:00</div>
                    <div class="mt-3 flex gap-2">
                        <button id="startTimer" class="px-3 py-2 bg-[#6EE7B7] text-black rounded">Start</button>
                        <button id="pauseTimer" class="px-3 py-2 bg-[#F59E0B] text-black rounded">Pause</button>
                        <button id="resetTimer" class="px-3 py-2 bg-[#ef4444] text-white rounded">Reset</button>
                    </div>

                    <div class="mt-4 w-full">
                        <label class="block text-xs text-gray-400">Quarter</label>
                        <select id="quarterSelect" class="w-full p-2 rounded bg-[#0f1724] text-sm">
                            <option value="1">1st Quarter (15:00)</option>
                            <option value="2">2nd Quarter (15:00)</option>
                            <option value="3">3rd Quarter (15:00)</option>
                            <option value="4">4th Quarter (15:00)</option>
                        </select>

                        <label class="block text-xs text-gray-400 mt-2">Break / Warmup</label>
                        <select id="breakSelect" class="w-full p-2 rounded bg-[#0f1724] text-sm">
                            <option value="0">None</option>
                            <option value="120">1st Quarter Break — 2:00</option>
                            <option value="600">Half Time — 10:00</option>
                            <option value="120-3">3rd Quarter Break — 2:00</option>
                            <option value="300">Warm-up — 5:00</option>
                        </select>
                    </div>
                </div>

                <!-- Team B -->
                <div class="p-4 bg-[#0b0c10] rounded-lg">
                    <label class="block text-xs text-gray-400 mb-2">Right Team</label>
                    <input id="teamBName" class="w-full p-2 rounded bg-[#0f1724] text-white text-sm"
                        placeholder="Team B" />
                    <div class="flex items-center gap-2 mt-3">
                        <button id="teamBInc" class="px-3 py-2 rounded bg-[#3B82F6]">+1</button>
                        <button id="teamBDec" class="px-3 py-2 rounded bg-[#ef4444]">-1</button>
                        <div id="teamBScore" class="ml-auto text-3xl led font-bold">00</div>
                    </div>
                    <div class="mt-3 flex items-center gap-2">
                        <button id="toggleReferralB" class="px-3 py-1 rounded bg-green-600 text-white text-sm">Referral
                            ✓</button>
                        <!-- <label class="text-sm text-gray-400">Color: </label>
                        <input id="colorB" type="color" value="#EF4444" class="h-8 w-12 p-0" /> -->
                    </div>
                </div>
            </div>

            <!-- secondary controls -->
            <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="p-4 bg-[#0b0c10] rounded-lg">
                    <h3 class="text-sm text-gray-300 mb-2">Goal Timer</h3>
                    <div class="flex items-center gap-2">
                        <button id="startGoal" class="px-3 py-2 rounded bg-[#3B82F6]">Start</button>
                        <button id="pauseGoal" class="px-3 py-2 rounded bg-[#F59E0B]">Pause</button>
                        <button id="resetGoal" class="px-3 py-2 rounded bg-[#ef4444]">Reset</button>
                        <div id="goalClock" class="ml-auto led text-xl font-bold">00:20</div>
                    </div>
                </div>

                <div class="p-4 bg-[#0b0c10] rounded-lg">
                    <h3 class="text-sm text-gray-300 mb-2">Penalty Corner Timer</h3>
                    <div class="flex items-center gap-2">
                        <button id="startPenalty" class="px-3 py-2 rounded bg-yellow-400 text-black">Start</button>
                        <button id="pausePenalty" class="px-3 py-2 rounded bg-[#F59E0B]">Pause</button>
                        <button id="resetPenalty" class="px-3 py-2 rounded bg-[#ef4444]">Reset</button>
                        <div id="penaltyClock" class="ml-auto led text-xl font-bold">00:40</div>
                    </div>
                </div>

                <div class="p-4 bg-[#0b0c10] rounded-lg">
                    <h3 class="text-sm text-gray-300 mb-2">Shootout</h3>
                    <div class="flex gap-2">
                        <a href="shootout.html" target="_blank" class="px-3 py-2 rounded bg-[#3B82F6]">Open Shootout
                            Page</a>
                        <button id="resetShootout" class="px-3 py-2 rounded bg-[#ef4444]">Reset Shootout</button>
                        <button id="openDisplay" class="ml-auto px-3 py-2 rounded bg-[#6EE7B7] text-black">Open
                            Display</button>
                    </div>
                </div>
            </div>

            <!-- export / import / clear -->
            <div class="mt-6 flex flex-wrap gap-3">
                <button id="exportJson" class="px-3 py-2 rounded bg-slate-700">Export JSON</button>
                <label class="px-3 py-2 rounded bg-slate-700 cursor-pointer">
                    Import JSON <input id="importFile" type="file" accept="application/json" class="hidden" />
                </label>
                <button id="clearBtn" class="px-3 py-2 rounded bg-red-600">Clear Saved Data</button>

                <div class="ml-auto flex items-center gap-3">
                    <a href="display.html" target="_blank" class="px-3 py-2 rounded bg-[#111827]">Open Display
                        (window)</a>
                    <a href="custom-message.html" class="px-3 py-2 rounded bg-[#111827]">Message</a>
                    <a href="settings.html" class="px-3 py-2 rounded bg-[#111827]">Settings</a>
                </div>
            </div>
        </section>

        <footer class="text-sm text-gray-500 mt-6">Tip: Open Display in a separate monitor or browser window for live
            view.</footer>
    </div>

    <script>
        /***********************************************
         Shared state structure (stored as JSON in localStorage.key = scoreboardState)
         {
           teamA: { name, score, color, referral },
           teamB: { ... },
           mainTimer: { seconds, running },
           goalTimer: { seconds, running },
           penaltyTimer: { seconds, running },
           shootout: { rounds: [ {a:'-', b:'-'}, ... ], currentRound, scoreA, scoreB, suddenDeath },
           message: { text },
           lastUpdated: timestamp
         }
        ***********************************************/

        (function () {
            // small helper
            const qs = id => document.getElementById(id);
            const defaultState = () => ({
                teamA: { name: 'ARG', score: 0, referral: true },
                teamB: { name: 'AUS', score: 0, referral: true },
                mainTimer: { seconds: 15 * 60, running: false },
                goalTimer: { seconds: 20, running: false },
                penaltyTimer: { seconds: 40, running: false },
                quarter: 1,
                message: { text: '' },
                shootout: { rounds: Array(5).fill().map(() => ({ a: '-', b: '-' })), currentRound: 0, scoreA: 0, scoreB: 0, suddenDeath: false },
                lastUpdated: Date.now()
            });

            function loadState() {
                const raw = localStorage.getItem('scoreboardState');
                if (!raw) return defaultState();
                try { return JSON.parse(raw); } catch (e) { return defaultState(); }
            }
            function saveState(state) {
                state.lastUpdated = Date.now();
                localStorage.setItem('scoreboardState', JSON.stringify(state));
            }

            // state & intervals
            let state = loadState();
            saveState(state); // ensure saved

            // update UI from state (admin side)
            function refreshUI() {
                qs('teamAName').value = state.teamA.name || '';
                qs('teamBName').value = state.teamB.name || '';
                qs('teamAScore').textContent = String(state.teamA.score).padStart(2, '0');
                qs('teamBScore').textContent = String(state.teamB.score).padStart(2, '0');
                qs('mainClock').textContent = formatTime(state.mainTimer.seconds);
                qs('goalClock').textContent = formatTime(state.goalTimer.seconds);
                qs('penaltyClock').textContent = formatTime(state.penaltyTimer.seconds);
                qs('quarterSelect').value = String(state.quarter || 1);
                // qs('colorA').value = state.teamA.color || '#3B82F6';
                // qs('colorB').value = state.teamB.color || '#EF4444';
                qs('toggleReferralA').textContent = state.teamA.referral ? 'Referral ✓' : 'Referral ✕';
                qs('toggleReferralA').classList.toggle('bg-green-600', state.teamA.referral);
                qs('toggleReferralA').classList.toggle('bg-red-600', !state.teamA.referral);
                 qs('toggleReferralB').textContent = state.teamB.referral ? 'Referral ✓' : 'Referral ✕';
                qs('toggleReferralB').classList.toggle('bg-green-600', state.teamB.referral);
                qs('toggleReferralB').classList.toggle('bg-red-600', !state.teamB.referral);
            }

            function formatTime(seconds) {
                if (seconds == null || isNaN(seconds)) seconds = 0;
                const m = Math.floor(seconds / 60), s = seconds % 60;
                return `${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
            }

            // timer loop
            let mainInterval = null, goalInterval = null, penaltyInterval = null;

            function startMainTimer() {
                if (mainInterval) return;
                state.mainTimer.running = true; saveState(state);
                mainInterval = setInterval(() => {
                    if (!state.mainTimer.running) { clearInterval(mainInterval); mainInterval = null; return; }
                    if (state.mainTimer.seconds > 0) { state.mainTimer.seconds -= 1; saveState(state); qs('mainClock').textContent = formatTime(state.mainTimer.seconds); }
                    else { state.mainTimer.running = false; saveState(state); clearInterval(mainInterval); mainInterval = null; playHooter(); }
                }, 1000);
            }
            function pauseMainTimer() {
                state.mainTimer.running = false; saveState(state); if (mainInterval) { clearInterval(mainInterval); mainInterval = null; }
            }
            function resetMainTimer(toSeconds = 15 * 60) {
                state.mainTimer.seconds = toSeconds; state.mainTimer.running = false; saveState(state);
                if (mainInterval) { clearInterval(mainInterval); mainInterval = null; }
                qs('mainClock').textContent = formatTime(state.mainTimer.seconds);
            }

            function startGoalTimer() {
                if (goalInterval) return;
                state.goalTimer.running = true; saveState(state);
                goalInterval = setInterval(() => {
                    if (!state.goalTimer.running) { clearInterval(goalInterval); goalInterval = null; return; }
                    if (state.goalTimer.seconds > 0) { state.goalTimer.seconds -= 1; saveState(state); qs('goalClock').textContent = formatTime(state.goalTimer.seconds); }
                    else { state.goalTimer.running = false; saveState(state); clearInterval(goalInterval); goalInterval = null; playHooter(); }
                }, 1000)
            }
            function pauseGoalTimer() { state.goalTimer.running = false; saveState(state); if (goalInterval) { clearInterval(goalInterval); goalInterval = null; } }
            function resetGoalTimer() { state.goalTimer.seconds = 20; state.goalTimer.running = false; saveState(state); qs('goalClock').textContent = formatTime(state.goalTimer.seconds); }

            function startPenaltyTimer() {
                if (penaltyInterval) return;
                state.penaltyTimer.running = true; saveState(state);
                penaltyInterval = setInterval(() => {
                    if (!state.penaltyTimer.running) { clearInterval(penaltyInterval); penaltyInterval = null; return; }
                    if (state.penaltyTimer.seconds > 0) { state.penaltyTimer.seconds -= 1; saveState(state); qs('penaltyClock').textContent = formatTime(state.penaltyTimer.seconds); }
                    else { state.penaltyTimer.running = false; saveState(state); clearInterval(penaltyInterval); penaltyInterval = null; playHooter(); }
                }, 1000);
            }
            function pausePenaltyTimer() { state.penaltyTimer.running = false; saveState(state); if (penaltyInterval) { clearInterval(penaltyInterval); penaltyInterval = null; } }
            function resetPenaltyTimer() { state.penaltyTimer.seconds = 40; state.penaltyTimer.running = false; saveState(state); qs('penaltyClock').textContent = formatTime(state.penaltyTimer.seconds); }

            // hooter (audio)
            function playHooter() { try { new Audio('data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA=').play(); } catch (e) { } }

            // event bindings
            qs('teamAInc').addEventListener('click', () => { state.teamA.score = Math.min(99, state.teamA.score + 1); saveState(state); refreshUI(); });
            qs('teamADec').addEventListener('click', () => { state.teamA.score = Math.max(0, state.teamA.score - 1); saveState(state); refreshUI(); });
            qs('teamBInc').addEventListener('click', () => { state.teamB.score = Math.min(99, state.teamB.score + 1); saveState(state); refreshUI(); });
            qs('teamBDec').addEventListener('click', () => { state.teamB.score = Math.max(0, state.teamB.score - 1); saveState(state); refreshUI(); });

            qs('teamAName').addEventListener('input', (e) => { state.teamA.name = e.target.value; saveState(state); });
            qs('teamBName').addEventListener('input', (e) => { state.teamB.name = e.target.value; saveState(state); });

            qs('toggleReferralA').addEventListener('click', () => { state.teamA.referral = !state.teamA.referral; saveState(state); refreshUI(); });
            qs('toggleReferralB').addEventListener('click', () => { state.teamB.referral = !state.teamB.referral; saveState(state); refreshUI(); });

            // qs('colorA').addEventListener('change', (e) => { state.teamA.color = e.target.value; saveState(state); });
            // qs('colorB').addEventListener('change', (e) => { state.teamB.color = e.target.value; saveState(state); });

            qs('startTimer').addEventListener('click', () => startMainTimer());
            qs('pauseTimer').addEventListener('click', () => pauseMainTimer());
            qs('resetTimer').addEventListener('click', () => resetMainTimer(15 * 60));

            qs('quarterSelect').addEventListener('change', (e) => { state.quarter = parseInt(e.target.value); state.mainTimer.seconds = 15 * 60; state.mainTimer.running = false; saveState(state); refreshUI(); });

            qs('breakSelect').addEventListener('change', (e) => {
                const v = e.target.value;
                if (!v || v === '0') { return; }
                // "120-3" retains quarter marker but sets 120s
                const seconds = v.includes('-') ? parseInt(v.split('-')[0]) : parseInt(v);
                state.mainTimer.seconds = seconds; state.mainTimer.running = false; saveState(state); refreshUI();
            });

            qs('startGoal').addEventListener('click', () => startGoalTimer());
            qs('pauseGoal').addEventListener('click', () => pauseGoalTimer());
            qs('resetGoal').addEventListener('click', () => resetGoalTimer());

            qs('startPenalty').addEventListener('click', () => startPenaltyTimer());
            qs('pausePenalty').addEventListener('click', () => pausePenaltyTimer());
            qs('resetPenalty').addEventListener('click', () => resetPenaltyTimer());

            qs('openDisplay').addEventListener('click', () => {
                window.open('display.html', 'ScoreboardDisplay', 'width=1200,height=700');
            });

            qs('resetShootout').addEventListener('click', () => {
                if (!confirm('Reset shootout results?')) return;
                state.shootout = { rounds: Array(5).fill().map(() => ({ a: '-', b: '-' })), currentRound: 0, scoreA: 0, scoreB: 0, suddenDeath: false };
                saveState(state); alert('Shootout reset.');
            });

            // export / import
            qs('exportJson').addEventListener('click', () => {
                const blob = new Blob([JSON.stringify(state, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a'); a.href = url; a.download = 'scoreboardState.json'; a.click(); URL.revokeObjectURL(url);
            });

            qs('importFile').addEventListener('change', (ev) => {
                const f = ev.target.files[0];
                if (!f) return;
                const reader = new FileReader();
                reader.onload = () => {
                    try {
                        const obj = JSON.parse(reader.result);
                        localStorage.setItem('scoreboardState', JSON.stringify(obj));
                        state = obj; refreshUI(); alert('Imported state.');
                    } catch (err) { alert('Invalid JSON file'); }
                };
                reader.readAsText(f);
            });

            qs('clearBtn').addEventListener('click', () => {
                if (!confirm('This will clear ALL scoreboard data (scores, timers, settings). Proceed?')) return;
                localStorage.removeItem('scoreboardState');
                state = defaultState(); saveState(state); refreshUI();
                alert('Cleared.');
            });

            // keep admin UI in sync if external display or other tab changed
            window.addEventListener('storage', (e) => {
                if (e.key === 'scoreboardState') {
                    state = loadState();
                    refreshUI();
                }
            });

            // initialize
            refreshUI();

            // auto save from admin UI every 1s to ensure changes persist
            setInterval(() => saveState(state), 1000);

        })();
    </script>
</body>

</html>



DISPLAY.HTML files
----------------------

<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Hockey Scoreboard — Display</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        body {
            background: linear-gradient(180deg, #0F1117, #0B0C10);
            color: #fff;
        }

        .led {
            font-family: ui-monospace, "Roboto Mono", monospace;
            letter-spacing: .08em;
            text-shadow: 0 0 10px rgba(59, 130, 246, 0.9), 0 0 28px rgba(59, 130, 246, 0.25);
        }

        .big-timer {
            font-size: clamp(48px, 8vw, 128px);
        }

        .teamName {
            font-size: clamp(16px, 2vw, 28px);
            font-weight: 600;
            letter-spacing: .06em;
        }

        .referral {
            padding: 4px 8px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
        }

        .msgBox {
            position: absolute;
            left: 20px;
            top: 20px;
            max-width: 40%;
            font-size: clamp(12px, 1.4vw, 22px);
        }
    </style>
</head>

<body class="min-h-screen relative">

    <div class="msgBox text-left text-white/90" id="messageBox"></div>

    <div class="max-w-7xl mx-auto py-8 px-4">
        <div class="grid grid-cols-12 gap-6 items-center">
            <!-- Team A -->
            <div class="col-span-3 bg-transparent text-left">
                <div id="displayTeamAName" class="teamName">TEAM A</div>
                <div id="displayTeamAScore" class="text-7xl led font-black mt-4">00</div>
                <div id="displayReferralA" class="mt-4 referral bg-green-600 text-black">Referral</div>
            </div>

            <!-- Center Timer -->
            <div class="col-span-6 text-center">
                <div id="displayQuarter" class="text-sm text-gray-400 mb-2">1st Quarter</div>
                <div id="displayMainClock" class="big-timer led font-extrabold">15:00</div>
                <div class="mt-4 flex justify-center gap-6">
                    <div class="text-center">
                        <div class="text-xs text-gray-400">Goal Timer</div>
                        <div id="displayGoal" class="led text-2xl">00:20</div>
                    </div>
                    <div class="text-center">
                        <div class="text-xs text-gray-400">Penalty Timer</div>
                        <div id="displayPenalty" class="led text-2xl">00:40</div>
                    </div>
                </div>
            </div>

            <!-- Team B -->
            <div class="col-span-3 text-right">
                <div id="displayTeamBName" class="teamName">TEAM B</div>
                <div id="displayTeamBScore" class="text-7xl led font-black mt-4">00</div>
                <div id="displayReferralB" class="mt-4 referral bg-green-600 text-black">Referral</div>
            </div>
        </div>

        <!-- Shootout preview -->
        <div class="mt-8 bg-[#081226] p-4 rounded-lg">
            <div class="flex items-center justify-between">
                <div class="text-gray-400">Shootout</div>
                <div class="text-white led" id="displaySOScore">0 - 0</div>
            </div>

            <div id="soGrid" class="mt-4 grid grid-cols-11 gap-2 items-center">
                <!-- layout: label, 5 A cells, separator, 5 B cells -->
            </div>
        </div>
    </div>

    <script>
        (function () {
            const qs = id => document.getElementById(id);
            function loadState() { try { return JSON.parse(localStorage.getItem('scoreboardState')) || {}; } catch (e) { return {}; } }
            function formatTime(s) { const m = Math.floor(s / 60), sec = s % 60; return `${String(m).padStart(2, '0')}:${String(sec).padStart(2, '0')}`; }

            // track previous values to avoid re-render
            let prev = {};

            function render() {
                const st = loadState();
                if (!st.teamA) return;
                // Team names
                if (prev.teamAName !== st.teamA.name) {
                    qs('displayTeamAName').textContent = st.teamA.name || '';
                    prev.teamAName = st.teamA.name;
                }
                if (prev.teamBName !== st.teamB.name) {
                    qs('displayTeamBName').textContent = st.teamB.name || '';
                    prev.teamBName = st.teamB.name;
                }

                // Scores
                if (prev.scoreA !== st.teamA.score) {
                    qs('displayTeamAScore').textContent = String(st.teamA.score || 0).padStart(2, '0');
                    prev.scoreA = st.teamA.score;
                }
                if (prev.scoreB !== st.teamB.score) {
                    qs('displayTeamBScore').textContent = String(st.teamB.score || 0).padStart(2, '0');
                    prev.scoreB = st.teamB.score;
                }

                // Colors & referral
                if (prev.colorA !== st.teamA.color) {
                    qs('displayTeamAScore').style.color = st.teamA.color || '#fff';
                    prev.colorA = st.teamA.color;
                }
                if (prev.colorB !== st.teamB.color) {
                    qs('displayTeamBScore').style.color = st.teamB.color || '#fff';
                    prev.colorB = st.teamB.color;
                }
                if (prev.refA !== st.teamA.referral) {
                    qs('displayReferralA').textContent = st.teamA.referral ? 'Referral' : 'No Referral';
                    qs('displayReferralA').className = (st.teamA.referral ? 'referral bg-green-400 text-black' : 'referral bg-red-600 text-white');
                    prev.refA = st.teamA.referral;
                }
                if (prev.refB !== st.teamB.referral) {
                    qs('displayReferralB').textContent = st.teamB.referral ? 'Referral' : 'No Referral';
                    qs('displayReferralB').className = (st.teamB.referral ? 'referral bg-green-400 text-black' : 'referral bg-red-600 text-white');
                    prev.refB = st.teamB.referral;
                }

                // main clock
                if (prev.main !== st.mainTimer.seconds) {
                    qs('displayMainClock').textContent = formatTime(st.mainTimer.seconds || 0);
                    prev.main = st.mainTimer.seconds;
                }

                // quarter label
                if (prev.quarter !== st.quarter) {
                    const qlbl = (st.quarter || 1) + ((st.quarter == 1) ? 'st' : (st.quarter == 2 ? 'nd' : (st.quarter == 3 ? 'rd' : 'th'))) + ' Quarter';
                    qs('displayQuarter').textContent = qlbl;
                    prev.quarter = st.quarter;
                }

                // goal / penalty
                if (prev.goal !== st.goalTimer.seconds) {
                    qs('displayGoal').textContent = formatTime(st.goalTimer.seconds || 0);
                    prev.goal = st.goalTimer.seconds;
                }
                if (prev.penalty !== st.penaltyTimer.seconds) {
                    qs('displayPenalty').textContent = formatTime(st.penaltyTimer.seconds || 0);
                    prev.penalty = st.penaltyTimer.seconds;
                }

                // message
                if (prev.msg !== st.message.text) {
                    qs('messageBox').textContent = st.message.text || '';
                    prev.msg = st.message.text;
                }

                // shootout grid
                const so = st.shootout || { rounds: [] };
                const soGrid = qs('soGrid');
                // only rebuild if changed length/rounds
                if (JSON.stringify(prev.so) !== JSON.stringify(so)) {
                    prev.so = JSON.parse(JSON.stringify(so));
                    soGrid.innerHTML = '';
                    // labels
                    const label = document.createElement('div'); label.className = 'text-gray-400 col-span-1'; label.textContent = 'Rounds'; soGrid.appendChild(label);
                    // A cells
                    for (let i = 0; i < 5; i++) {
                        const c = document.createElement('div'); c.className = 'col-span-1 text-center py-1';
                        c.innerHTML = `<div class="text-sm text-gray-300">A${i + 1}</div><div class="text-2xl led">${so.rounds[i] ? (so.rounds[i].a || '-') : '-'}</div>`;
                        soGrid.appendChild(c);
                    }
                    // separator
                    const sep = document.createElement('div'); sep.className = 'col-span-1 text-center text-gray-400'; sep.textContent = 'vs'; soGrid.appendChild(sep);
                    // B cells
                    for (let i = 0; i < 5; i++) {
                        const c = document.createElement('div'); c.className = 'col-span-1 text-center py-1';
                        c.innerHTML = `<div class="text-sm text-gray-300">B${i + 1}</div><div class="text-2xl led">${so.rounds[i] ? (so.rounds[i].b || '-') : '-'}</div>`;
                        soGrid.appendChild(c);
                    }
                }

                // shootout score display
                const scoreA = (st.shootout && st.shootout.scoreA) || 0;
                const scoreB = (st.shootout && st.shootout.scoreB) || 0;
                if (prev.soScore !== `${scoreA}-${scoreB}`) {
                    qs('displaySOScore').textContent = `${scoreA} - ${scoreB}`;
                    prev.soScore = `${scoreA}-${scoreB}`;
                }
            }

            // poll localStorage every 250ms (lightweight) and only update differences
            setInterval(render, 250);

            // initial
            render();

        })();
    </script>
</body>

</html>





SHOOTOUT .HTML files
----------------------

<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Shootout Control</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        .cell {
            min-width: 56px;
            min-height: 56px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
        }
    </style>
</head>

<body class="bg-[#071022] text-white p-6">
    <div class="max-w-3xl mx-auto">
        <h1 class="text-xl font-semibold mb-4">Shootout Control</h1>
        <div class="grid grid-cols-11 gap-2 items-center">
            <div class="text-gray-400">Round</div>
            <div class="text-center">A1</div>
            <div class="text-center">A2</div>
            <div class="text-center">A3</div>
            <div class="text-center">A4</div>
            <div class="text-center">A5</div>
            <div class="text-center">vs</div>
            <div class="text-center">B1</div>
            <div class="text-center">B2</div>
            <div class="text-center">B3</div>
            <div class="text-center">B4</div>
            <div class="text-center">B5</div>
        </div>

        <div id="grid" class="mt-4 grid grid-cols-11 gap-2"></div>

        <div class="mt-6 flex gap-3">
            <button id="resetAll" class="px-3 py-2 rounded bg-red-600">Reset Shootout</button>
            <button id="autoNext" class="px-3 py-2 rounded bg-slate-700">Auto Next Round</button>
            <div class="ml-auto text-gray-300">Score: <span id="soScore">0 - 0</span></div>
        </div>
    </div>

    <script>
        (function () {
            const qs = id => document.getElementById(id);
            function load() { try { return JSON.parse(localStorage.getItem('scoreboardState')) || {}; } catch (e) { return {}; } }
            function save(st) { localStorage.setItem('scoreboardState', JSON.stringify(st)); }

            let st = load();
            if (!st.shootout) st.shootout = { rounds: Array(5).fill().map(() => ({ a: '-', b: '-' })), currentRound: 0, scoreA: 0, scoreB: 0, suddenDeath: false };
            save(st);

            function build() {
                const grid = qs('grid'); grid.innerHTML = '';
                for (let i = 0; i < 5; i++) {
                    // A cell
                    const a = document.createElement('div'); a.className = 'cell bg-[#0f1724] p-3 text-center rounded';
                    a.id = `A${i}`; a.innerHTML = `<div class="text-sm text-gray-300">A${i + 1}</div><div class="text-xl" data-val>${st.shootout.rounds[i].a}</div>`;
                    a.addEventListener('click', () => openPicker(i, 'a'));
                    grid.appendChild(a);
                }
                // separator for symmetry
                const sep = document.createElement('div'); sep.className = 'col-span-1 flex items-center justify-center text-gray-400'; sep.textContent = 'vs'; grid.appendChild(sep);
                for (let i = 0; i < 5; i++) {
                    const b = document.createElement('div'); b.className = 'cell bg-[#0f1724] p-3 text-center rounded';
                    b.id = `B${i}`; b.innerHTML = `<div class="text-sm text-gray-300">B${i + 1}</div><div class="text-xl" data-val>${st.shootout.rounds[i].b}</div>`;
                    b.addEventListener('click', () => openPicker(i, 'b'));
                    grid.appendChild(b);
                }
                qs('soScore').textContent = `${st.shootout.scoreA} - ${st.shootout.scoreB}`;
            }

            function openPicker(round, team) {
                const menu = document.createElement('div'); menu.className = 'fixed left-0 top-0 w-full h-full flex items-center justify-center';
                const box = document.createElement('div'); box.className = 'bg-[#071022] p-6 rounded shadow-lg';
                box.innerHTML = `<div class="mb-3">Round ${round + 1} - Team ${team.toUpperCase()}</div>`;
                ['GOAL', 'NO GOAL', 'DEFAULT'].forEach(opt => {
                    const btn = document.createElement('button'); btn.className = 'px-3 py-2 m-1 rounded bg-slate-700';
                    btn.textContent = opt;
                    btn.addEventListener('click', () => {
                        applyRound(round, team, opt);
                        document.body.removeChild(menu);
                    });
                    box.appendChild(btn);
                });
                menu.appendChild(box); menu.addEventListener('click', (e) => { if (e.target === menu) document.body.removeChild(menu); });
                document.body.appendChild(menu);
            }

            function applyRound(round, team, opt) {
                const val = (opt === 'GOAL') ? 'G' : (opt === 'NO GOAL' ? 'X' : '-');
                if (team === 'a') {
                    st.shootout.rounds[round].a = val;
                } else {
                    st.shootout.rounds[round].b = val;
                }
                // recalc scores
                let sa = 0, sb = 0;
                for (let r of st.shootout.rounds) {
                    if (r.a === 'G') sa++;
                    if (r.b === 'G') sb++;
                }
                st.shootout.scoreA = sa; st.shootout.scoreB = sb;
                // sudden death check after 5 rounds
                if (st.shootout.rounds.every(r => r.a !== '-' && r.b !== '-') && st.shootout.scoreA === st.shootout.scoreB) {
                    st.shootout.suddenDeath = true;
                } else st.shootout.suddenDeath = false;
                save(st);
                localStorage.setItem('scoreboardState', JSON.stringify(st));
                build();
            }

            qs('resetAll').addEventListener('click', () => {
                if (!confirm('Reset shootout?')) return;
                st.shootout = { rounds: Array(5).fill().map(() => ({ a: '-', b: '-' })), currentRound: 0, scoreA: 0, scoreB: 0, suddenDeath: false };
                save(st); build();
            });

            let auto = false;
            qs('autoNext').addEventListener('click', () => {
                auto = !auto;
                qs('autoNext').textContent = auto ? 'Stop Auto' : 'Auto Next Round';
                if (auto) nextRoundLoop();
            });
            async function nextRoundLoop() {
                for (let r = 0; r < 5 && auto; r++) {
                    // place default 'GOAL' for A and then for B to simulate (this is demo automation — admin will manually set)
                    await new Promise(res => setTimeout(res, 700));
                    if (!auto) break;
                    if (st.shootout.rounds[r].a === '-') { applyRound(r, 'a', 'NO GOAL'); }
                    await new Promise(res => setTimeout(res, 700));
                    if (!auto) break;
                    if (st.shootout.rounds[r].b === '-') { applyRound(r, 'b', 'NO GOAL'); }
                }
                auto = false; qs('autoNext').textContent = 'Auto Next Round';
            }

            // listen storage changes (if admin modified other tabs)
            window.addEventListener('storage', () => { st = load(); build(); });

            build();

        })();
    </script>
</body>

</html>



SEttings.html file
------------------

<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Settings</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="bg-[#071025] text-white p-6">
    <div class="max-w-3xl mx-auto">
        <h1 class="text-xl font-semibold mb-4">Settings</h1>

        <div class="mb-4">
            <label class="text-sm text-gray-300">Preset Teams (choose for left/right)</label>
            <div class="grid grid-cols-2 gap-2 mt-2">
                <select id="presetA" class="p-2 bg-[#0f1724] rounded"></select>
                <select id="presetB" class="p-2 bg-[#0f1724] rounded"></select>
            </div>
            <div class="mt-3">
                <button id="applyPresets" class="px-3 py-2 rounded bg-[#3B82F6]">Apply</button>
            </div>
        </div>

        <div class="mb-4">
            <label class="text-sm text-gray-300">Position adjustment (X / Y)</label>
            <div class="flex gap-2 mt-2">
                <input id="posX" type="number" class="p-2 bg-[#0f1724] rounded w-24" placeholder="X px" />
                <input id="posY" type="number" class="p-2 bg-[#0f1724] rounded w-24" placeholder="Y px" />
                <button id="applyPos" class="px-3 py-2 rounded bg-[#6EE7B7] text-black">Apply Position</button>
            </div>
            <p class="text-sm text-gray-400 mt-2">Position is stored, display can read it (not used in this sample for
                absolute positioning).</p>
        </div>

        <div class="mt-6 flex gap-3">
            <button id="resetAll" class="px-3 py-2 rounded bg-red-600">Reset All</button>
            <button id="saveSettings" class="px-3 py-2 rounded bg-slate-700">Save Settings</button>
        </div>
    </div>

    <script>
        (function () {
            const teams = ['ARG', 'AUS', 'BEL', 'CAN', 'CHN', 'ENG', 'FRA', 'GER', 'IND', 'IRL', 'MAS', 'NED', 'NZL', 'PAK', 'RSA', 'ESP'];
            const qs = id => document.getElementById(id);
            teams.forEach(t => {
                const o = document.createElement('option'); o.value = t; o.textContent = t; qs('presetA').appendChild(o);
                const o2 = document.createElement('option'); o2.value = t; o2.textContent = t; qs('presetB').appendChild(o2);
            });

            function load() { try { return JSON.parse(localStorage.getItem('scoreboardState')) || {}; } catch (e) { return {}; } }
            function save(s) { localStorage.setItem('scoreboardState', JSON.stringify(s)); }

            qs('applyPresets').addEventListener('click', () => {
                const st = load(); st.teamA = st.teamA || {}; st.teamB = st.teamB || {};
                st.teamA.name = qs('presetA').value; st.teamB.name = qs('presetB').value;
                save(st); alert('Applied teams.');
            });

            qs('applyPos').addEventListener('click', () => {
                const st = load();
                st.position = { x: parseInt(qs('posX').value) || 0, y: parseInt(qs('posY').value) || 0 };
                save(st); alert('Position saved.');
            });

            qs('saveSettings').addEventListener('click', () => {
                const st = load(); st.settingsSaved = true; save(st); alert('Settings saved.');
            });

            qs('resetAll').addEventListener('click', () => {
                if (!confirm('Reset entire scoreboard (all data)?')) return;
                localStorage.removeItem('scoreboardState'); alert('Reset done.');
            });

        })();
    </script>
</body>

</html>



CUSTOM Message HTML file
----------------------

<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Custom Message</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="bg-[#071025] text-white p-6">
    <div class="max-w-xl mx-auto">
        <h1 class="text-xl font-semibold mb-4">Custom Message</h1>
        <textarea id="msg" rows="4" class="w-full p-3 rounded bg-[#0f1724]"></textarea>
        <div class="mt-4 flex gap-3">
            <button id="showBtn" class="px-3 py-2 rounded bg-[#3B82F6]">Display on Scoreboard</button>
            <button id="clearBtn" class="px-3 py-2 rounded bg-red-600">Clear Message</button>
            <button id="blinkBtn" class="ml-auto px-3 py-2 rounded bg-slate-700">Test Blink</button>
        </div>
        <p class="mt-4 text-gray-400 text-sm">Message will be displayed top left on the Display page.</p>
    </div>

    <script>
        (function () {
            const qs = id => document.getElementById(id);
            function load() { try { return JSON.parse(localStorage.getItem('scoreboardState')) || {}; } catch (e) { return {}; } }
            function save(st) { localStorage.setItem('scoreboardState', JSON.stringify(st)); }

            qs('showBtn').addEventListener('click', () => {
                const st = load();
                st.message = { text: qs('msg').value || '' };
                save(st);
                alert('Message updated.');
            });

            qs('clearBtn').addEventListener('click', () => {
                const st = load(); st.message = { text: '' }; save(st); qs('msg').value = '';
                alert('Message cleared.');
            });

            qs('blinkBtn').addEventListener('click', () => {
                // small visual test: toggle message briefly
                const st = load(); const previous = st.message ? st.message.text : '';
                st.message = { text: '*** HOOKER TEST ***' }; save(st);
                setTimeout(() => { st.message = { text: previous }; save(st); }, 1200);
            });

        })();
    </script>
</body>

</html>


BREAK TImer html file
------------------

<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Break Timer Setup</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="bg-[#071025] text-white p-6">
    <div class="max-w-xl mx-auto">
        <h1 class="text-xl font-semibold mb-4">Break & Warm-up Setup</h1>
        <div class="grid grid-cols-2 gap-3">
            <button data-sec="120" class="setupBtn px-3 py-2 rounded bg-slate-700">1st Quarter Break — 2:00</button>
            <button data-sec="600" class="setupBtn px-3 py-2 rounded bg-slate-700">Half Time — 10:00</button>
            <button data-sec="120" class="setupBtn px-3 py-2 rounded bg-slate-700">3rd Quarter Break — 2:00</button>
            <button data-sec="300" class="setupBtn px-3 py-2 rounded bg-slate-700">Warm-up — 5:00</button>
        </div>

        <div class="mt-4">
            <label class="text-sm text-gray-300">Custom seconds</label>
            <input id="customSec" type="number" class="w-full p-2 rounded bg-[#0f1724]" placeholder="seconds" />
            <div class="mt-3 flex gap-3">
                <button id="applyCustom" class="px-3 py-2 rounded bg-[#3B82F6]">Apply</button>
                <button id="startMain" class="px-3 py-2 rounded bg-green-500">Start Main Timer</button>
            </div>
        </div>
    </div>

    <script>
        (function () {
            const qs = id => document.getElementById(id);
            function load() { try { return JSON.parse(localStorage.getItem('scoreboardState')) || {}; } catch (e) { return {}; } }
            function save(st) { localStorage.setItem('scoreboardState', JSON.stringify(st)); }

            document.querySelectorAll('.setupBtn').forEach(b => {
                b.addEventListener('click', () => {
                    const sec = parseInt(b.dataset.sec);
                    const st = load();
                    st.mainTimer = { seconds: sec, running: false };
                    save(st); alert('Applied ' + sec + ' seconds to main timer.');
                });
            });

            qs('applyCustom').addEventListener('click', () => {
                const sec = parseInt(qs('customSec').value) || 0;
                const st = load(); st.mainTimer = { seconds: sec, running: false }; save(st); alert('Custom time applied.');
            });

            qs('startMain').addEventListener('click', () => {
                const st = load(); st.mainTimer.running = true; save(st); alert('Set main timer to running. Use admin page to start countdown.');
            });

        })();
    </script>
</body>

</html>




admin.js file
----------------------
<script>
    // admin.js - manage timers, scores, storage, export/import
    (() => {
        const qs = id => document.getElementById(id);
        const fmt = s => {
            const m = Math.floor(s / 60), sec = s % 60; return String(m).padStart(2, '0') + ':' +
                String(sec).padStart(2, '0');
        };
        const mainTimerDisplay = qs('mainTimerDisplay');
        const startBtn = qs('startBtn'), pauseBtn = qs('pauseBtn'), resetBtn = qs('resetBtn');
        const mainLength = qs('mainLength'), quarterSelect = qs('quarterSelect'), breakSelect = qs('breakSelect'), warmupSelect
            = qs('warmupSelect');
        const openDisplay = qs('openDisplay'), exportBtn = qs('exportBtn'), importFile = qs('importFile'), clearBtn =
            qs('clearBtn');
        const scoreA = qs('scoreA'), scoreB = qs('scoreB'), incA = qs('incA'), decA = qs('decA'), incB = qs('incB'), decB =
            qs('decB');
        const refA = qs('refA'), refB = qs('refB'), teamASelect = qs('teamASelect'), teamBSelect = qs('teamBSelect');

        let mainSeconds = parseInt(localStorage.getItem('main_timer_seconds') || mainLength.value, 10);
        let mainInterval = null;

        function loadState() {
            scoreA.textContent = localStorage.getItem('scoreA') || '00';
            scoreB.textContent = localStorage.getItem('scoreB') || '00';
            teamASelect.value = localStorage.getItem('teamA_name') || teamASelect.value;
            teamBSelect.value = localStorage.getItem('teamB_name') || teamBSelect.value;
            quarterSelect.value = localStorage.getItem('quarter') || quarterSelect.value;
            mainSeconds = parseInt(localStorage.getItem('main_timer_seconds') || mainLength.value, 10);
            mainTimerDisplay.textContent = localStorage.getItem('main_timer_display') || fmt(mainSeconds);
            refA.className = localStorage.getItem('refA_status') === 'lost' ? 'px-3 py-2 bg-red-600 rounded' : 'px-3 py-2
            bg - green - 600 rounded';
            refB.className = localStorage.getItem('refB_status') === 'lost' ? 'px-3 py-2 bg-red-600 rounded' : 'px-3 py-2
            bg - green - 600 rounded';
        }
        function saveState() {
            localStorage.setItem('scoreA', scoreA.textContent); localStorage.setItem('scoreB',
                scoreB.textContent); localStorage.setItem('main_timer_seconds', String(mainSeconds));
            localStorage.setItem('main_timer_display', mainTimerDisplay.textContent); localStorage.setItem('quarter',
                quarterSelect.value); localStorage.setItem('teamA_name', teamASelect.value); localStorage.setItem('teamB_name',
                    teamBSelect.value);
        }

        // main controls
        startBtn.addEventListener('click', () => {
            if (mainInterval) return;
            const parts = mainTimerDisplay.textContent.split(':'); mainSeconds = parseInt(parts[0], 10) * 60 + parseInt(parts[1],
                10);
            mainInterval = setInterval(() => {
                if (mainSeconds > 0) { mainSeconds--; mainTimerDisplay.textContent = fmt(mainSeconds); } else {
                    clearInterval(mainInterval); mainInterval = null; playHooter();
                }
                saveState(); localStorage.setItem('main_timer_display', mainTimerDisplay.textContent);
            }, 1000);
        });
        pauseBtn.addEventListener('click', () => { clearInterval(mainInterval); mainInterval = null; saveState(); });
        resetBtn.addEventListener('click', () => {
            clearInterval(mainInterval); mainInterval = null; mainSeconds =
                parseInt(mainLength.value, 10); mainTimerDisplay.textContent = fmt(mainSeconds); saveState();
        });

        quarterSelect.addEventListener('change', () => {
            mainSeconds = parseInt(mainLength.value, 10);
            mainTimerDisplay.textContent = fmt(mainSeconds); saveState();
        });

        breakSelect.addEventListener('change', () => {
            const v = parseInt(breakSelect.value, 10) || 0; if (v > 0) {
                mainSeconds
                = v; mainTimerDisplay.textContent = fmt(mainSeconds); saveState();
            }
        });
        warmupSelect.addEventListener('change', () => {
            const v = parseInt(warmupSelect.value, 10) || 0; if (v > 0) {
                mainSeconds = v; mainTimerDisplay.textContent = fmt(mainSeconds); saveState();
            }
        });

        incA.addEventListener('click', () => {
            scoreA.textContent = String(Math.min(99, parseInt(scoreA.textContent || 0, 10) +
                1)).padStart(2, '0'); saveState();
        });
        decA.addEventListener('click', () => {
            scoreA.textContent = String(Math.max(0, parseInt(scoreA.textContent || 0, 10) -
                1)).padStart(2, '0'); saveState();
        });
        incB.addEventListener('click', () => {
            scoreB.textContent = String(Math.min(99, parseInt(scoreB.textContent || 0, 10) +
                1)).padStart(2, '0'); saveState();
        });
        decB.addEventListener('click', () => {
            scoreB.textContent = String(Math.max(0, parseInt(scoreB.textContent || 0, 10) -
                1)).padStart(2, '0'); saveState();
        });

        refA.addEventListener('click', () => {
            const lost = localStorage.getItem('refA_status') === 'lost';
            localStorage.setItem('refA_status', lost ? 'available' : 'lost'); refA.className = lost ? 'px-3 py-2 bg-green-600
rounded' : 'px - 3 py - 2 bg - red - 600 rounded'; });
            refB.addEventListener('click', () => {
                const lost = localStorage.getItem('refB_status') === 'lost';
                localStorage.setItem('refB_status', lost ? 'available' : 'lost'); refB.className = lost ? 'px-3 py-2 bg-green-600
rounded' : 'px - 3 py - 2 bg - red - 600 rounded'; });

                openDisplay.addEventListener('click', () => {
                    window.open('display.html', 'scoreboard-display',
                        'width=1200,height=800');
                });

                exportBtn.addEventListener('click', () => {
                    const data = {}; for (let i = 0; i < localStorage.length; i++) {
                        const k = localStorage.key(i);
                        data[k] = localStorage.getItem(k);
                    } const blob = new Blob([JSON.stringify(data, null, 2)], {
                        type: 'application/json'
                    }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url;
                    a.download = 'scoreboard_export.json'; a.click(); URL.revokeObjectURL(url);
                }); importFile.addEventListener('change',
                    (e) => {
                        const f = e.target.files[0]; if (!f) return; const r = new FileReader(); r.onload = () => {
                            try {
                                const obj
                                    = JSON.parse(r.result); Object.keys(obj).forEach(k => localStorage.setItem(k, obj[k])); alert('Imported');
                                loadState();
                            } catch (err) { alert('Invalid JSON'); }
                        }; r.readAsText(f);
                    });

                clearBtn.addEventListener('click', () => {
                    if (!confirm('Clear saved data?')) return; localStorage.clear();
                    location.reload();
                });

                function playHooter() {
                    try {
                        const ctx = new (window.AudioContext || window.webkitAudioContext)(); const o =
                            ctx.createOscillator(); const g = ctx.createGain(); o.type = 'sine'; o.frequency.value = 880; o.connect(g);
                        g.connect(ctx.destination); o.start(); g.gain.setValueAtTime(0.0001, ctx.currentTime);
                        g.gain.exponentialRampToValueAtTime(0.5, ctx.currentTime + 0.01); setTimeout(() => {
                            g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.3); o.stop(ctx.currentTime + 0.35);
                        }, 500);
                    } catch
                    (e) { console.warn('Audio err', e); }
                }

                // (Goal & penalty timers are implemented in the admin page UI controls above via simple start/stop/reset)
                loadState();
                setInterval(saveState, 1000);
                setInterval(() => {
                    localStorage.setItem('main_timer_display', mainTimerDisplay.textContent);
                    localStorage.setItem('scoreA', scoreA.textContent); localStorage.setItem('scoreB', scoreB.textContent);
                    localStorage.setItem('quarter', quarterSelect.value); localStorage.setItem('teamA_name', teamASelect.value);
                    localStorage.setItem('teamB_name', teamBSelect.value);
                }, 500);

            })();
</script>